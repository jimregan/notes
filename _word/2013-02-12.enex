<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export4.dtd">
<en-export export-date="20211026T155342Z" application="Evernote" version="10.22.3">
  <note>
    <title>IBM Model 1</title>
    <created>20130212T212438Z</created>
    <updated>20130212T212615Z</updated>
    <note-attributes>
      <source-url>http://malt.ml.cmu.edu/mw/index.php/IBM_Model_1</source-url>
    </note-attributes>
    <content>
      <![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<p style="margin-top: 0.4em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; line-height: 1.5em;"><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;">IBM Model 1 defines the probability of a sentence <en-media alt="s_1^J" style="border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; border-width: initial; border-color: initial; vertical-align: middle; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;" type="image/png" hash="f0db51e0f2f458fe7ec23ffc16208646"/>, with length <span style="font-family: serif;"><i>J</i></span>, being translated to a sentence <en-media alt="t_1^I" style="border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; border-width: initial; border-color: initial; vertical-align: middle; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;" type="image/png" hash="7f450e77f931795deb8a515b0b7aa0e3"/>, with length <span style="font-family: serif;"><i>I</i></span>, with the alignment <en-media alt="a_1^J" style="border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; border-width: initial; border-color: initial; vertical-align: middle; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;" type="image/png" hash="212371d05fb2e1583607a1ad9fecdd51"/> as:</span></p>
<div><en-media alt=" Pr(t,a|s) = \frac{\epsilon}{(J+1)^{I}}\prod_{j=1}^{J}{tr(t_j|s_{a(j)})}" style="border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; border-width: initial; border-color: initial; vertical-align: middle; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;" type="image/png" hash="f4298731dba1d03d8514805b97c76f91"/></div>
<div><br/></div>
<div>&lt;math&gt;</div>
<div>Pr(t,a|s) = \frac{\epsilon}{(J+1)^{I}}\prod_{j=1}^{J}{tr(t_j|s_{a(j)})}</div>
<div>&lt;/math&gt;</div>
<div><br/></div>
</en-note>      ]]>
    </content>
    <resource>
      <data encoding="base64">
iVBORw0KGgoAAAANSUhEUgAAABMAAAAXCAMAAADeH4ToAAAAM1BMVEX////R0dFKSkpaWlp+fn67u7uSkpIUFBQLCwsEBASmpqY6OjoAAADo6OhsbGwsLCwgICAQy+TuAAAAkElEQVQYGZ2QSRLEIAgAQcB9yf9fG0nUKuOchoNKC00pwBZIzvFGNPmBSsajzPoDgUkn++qwwKELFaz7tKaClwyGhlhsT2KcVeIQxJuZ6o5Bb73WrUiqlVwW6Idc
+1K3eTHrqPbokN6xMWtTsFCB2Y3BoZs4R9RvuwbjZo0ket4+GRS9fEWLqW/E/4wpNOqWG5xyA2uvSBLrAAAAAElFTkSuQmCC
      </data>
      <mime>image/png</mime>
      <width>19</width>
      <height>23</height>
      <resource-attributes>
        <file-name></file-name>
        <source-url>en-cache://tokenKey%3D%22AuthToken%3AUser%3A17633267%22+8f3bc14f-476b-4be3-9ad2-ffae8eba9c2e+212371d05fb2e1583607a1ad9fecdd51+https://www.evernote.com/shard/s160/res/3f31df8f-8e9e-4de6-bb05-c2a506443cda</source-url>
      </resource-attributes>
    </resource>
    <resource>
      <data encoding="base64">
iVBORw0KGgoAAAANSUhEUgAAAA4AAAAXCAMAAAAMT46wAAAAM1BMVEX////o6OhsbGx+fn4LCws6OjqmpqZaWloAAADR0dEgICC7u7uSkpIsLCwUFBRKSkoEBARkhSCRAAAAd0lEQVQYGZWPQRKEMAgERzESxLj+/7ULIcT1uFwmTVUDAbKEa6EES60/AKzXC9vnhfcZuKyeWpdA2jynWorjVDdbp3y33Zo723r216hQkxDqRFefkioPAKkKq7dd
tbOIrj7+YGi3j45nI+5yIGSMGphz/0CyLzG+riEClh6bbsQAAAAASUVORK5CYII=
      </data>
      <mime>image/png</mime>
      <width>14</width>
      <height>23</height>
      <resource-attributes>
        <file-name></file-name>
        <source-url>en-cache://tokenKey%3D%22AuthToken%3AUser%3A17633267%22+8f3bc14f-476b-4be3-9ad2-ffae8eba9c2e+7f450e77f931795deb8a515b0b7aa0e3+https://www.evernote.com/shard/s160/res/d7173085-ee03-4737-8aec-db8bc0df9067</source-url>
      </resource-attributes>
    </resource>
    <resource>
      <data encoding="base64">
iVBORw0KGgoAAAANSUhEUgAAABEAAAAXCAMAAADa6lTVAAAAM1BMVEX///9sbGxaWlqSkpIsLCy7u7tKSkrR0dEgICAEBAQAAACmpqbo6OgUFBR+fn4LCws6Ojo/Fk6WAAAAgklEQVQYGZWOSxbFIAhDKX5QUdr9r7ZUS4/6Rs+JcBNjAKZD2JpM+zP+gFpos7hzAxCvnawxVGGLyQe4tjy6KqXwkgPR6chsDq9KnHuEpFJeSIlczT/uWEq2SFNC
8zoSDt4XViLSxme9g+9zGkSQXXzqALxEm1nsR7q+eP4ggtmj+m+AagMovjFKhQAAAABJRU5ErkJggg==
      </data>
      <mime>image/png</mime>
      <width>17</width>
      <height>23</height>
      <resource-attributes>
        <file-name></file-name>
        <source-url>en-cache://tokenKey%3D%22AuthToken%3AUser%3A17633267%22+8f3bc14f-476b-4be3-9ad2-ffae8eba9c2e+f0db51e0f2f458fe7ec23ffc16208646+https://www.evernote.com/shard/s160/res/26dd53b8-3c7d-47b4-88fd-d50f27d46b91</source-url>
      </resource-attributes>
    </resource>
    <resource>
      <data encoding="base64">
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
      </data>
      <mime>image/png</mime>
      <width>295</width>
      <height>53</height>
      <resource-attributes>
        <file-name></file-name>
        <source-url>en-cache://tokenKey%3D%22AuthToken%3AUser%3A17633267%22+8f3bc14f-476b-4be3-9ad2-ffae8eba9c2e+f4298731dba1d03d8514805b97c76f91+https://www.evernote.com/shard/s160/res/74c401af-6424-4652-99b1-744c7e59bb49</source-url>
      </resource-attributes>
    </resource>
  </note>
  <note>
    <title>ASM/AAM</title>
    <created>20130212T154550Z</created>
    <updated>20130212T154600Z</updated>
    <note-attributes>
    </note-attributes>
    <content>
      <![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<a href="http://www.mathworks.com/matlabcentral/fileexchange/26706-active-shape-model-asm-and-active-appearance-model-aam">http://www.mathworks.com/matlabcentral/fileexchange/26706-active-shape-model-asm-and-active-appearance-model-aam</a>
<div><br/></div>
</en-note>      ]]>
    </content>
  </note>
  <note>
    <title>Untitled Note</title>
    <created>20130212T151733Z</created>
    <updated>20130212T151832Z</updated>
    <note-attributes>
    </note-attributes>
    <content>
      <![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<div>openimaj/image/image-processing/src/main/java/org/openimaj/image/processing/convolution/filterbank/LeungMalikFilterBank.java</div>
<div><a href="http://www.robots.ox.ac.uk/~vgg/research/texclass/code/makeLMfilters.m">http://www.robots.ox.ac.uk/~vgg/research/texclass/code/makeLMfilters.m</a><br/></div>
<div><br/></div>
<div><br/></div>
/**
<div> * Copyright (c) 2011, The University of Southampton and the individual contributors.</div>
<div> * All rights reserved.</div>
<div> *</div>
<div> * Redistribution and use in source and binary forms, with or without modification,</div>
<div> * are permitted provided that the following conditions are met:</div>
<div> *</div>
<div> *   *      Redistributions of source code must retain the above copyright notice,</div>
<div> *      this list of conditions and the following disclaimer.</div>
<div> *</div>
<div> *   *     Redistributions in binary form must reproduce the above copyright notice,</div>
<div> *      this list of conditions and the following disclaimer in the documentation</div>
<div> *      and/or other materials provided with the distribution.</div>
<div> *</div>
<div> *   *     Neither the name of the University of Southampton nor the names of its</div>
<div> *      contributors may be used to endorse or promote products derived from this</div>
<div> *      software without specific prior written permission.</div>
<div> *</div>
<div> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</div>
<div> * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</div>
<div> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</div>
<div> * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR</div>
<div> * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</div>
<div> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</div>
<div> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON</div>
<div> * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</div>
<div> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</div>
<div> * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<div> */</div>
<div>package org.openimaj.image.processing.convolution.filterbank;</div>
<div><br/></div>
<div>import static java.lang.Math.PI;</div>
<div>import static java.lang.Math.cos;</div>
<div>import static java.lang.Math.exp;</div>
<div>import static java.lang.Math.pow;</div>
<div>import static java.lang.Math.sin;</div>
<div>import static java.lang.Math.sqrt;</div>
<div><br/></div>
<div>import org.openimaj.image.FImage;</div>
<div>import org.openimaj.image.processing.convolution.FConvolution;</div>
<div>import org.openimaj.image.processing.convolution.Gaussian2D;</div>
<div>import org.openimaj.image.processing.convolution.LaplacianOfGaussian2D;</div>
<div>import org.openimaj.math.util.FloatArrayStatsUtils;</div>
<div><br/></div>
<div>/**</div>
<div> * Implementation of a the filter bank described in:</div>
<div> * T. Leung and J. Malik. Representing and recognizing the visual</div>
<div> * appearance of materials using three-dimensional textons. IJCV, 2001</div>
<div> *</div>
<div> * Inspired by the matlab implementation from</div>
<div> * <a href="http://www.robots.ox.ac.uk/~vgg/research/texclass/filters.html">http://www.robots.ox.ac.uk/~vgg/research/texclass/filters.html</a></div>
<div> *</div>
<div> * @author Jonathon Hare &lt;<a href="mailto:jsh2@ecs.soton.ac.uk">jsh2@ecs.soton.ac.uk</a>&gt;</div>
<div> */</div>
<div>public class LeungMalikFilterBank extends FilterBank {</div>
<div>     /**</div>
<div>      * Default constructor with a filter support of 49 pixels</div>
<div>      */</div>
<div>     public LeungMalikFilterBank() {</div>
<div>          this(49);</div>
<div>     }</div>
<div>    </div>
<div>     /**</div>
<div>      * Construct with given support (filter size).</div>
<div>      * @param size the filter size</div>
<div>      */</div>
<div>     public LeungMalikFilterBank(int size) {</div>
<div>          this.filters = makeFilters(size);</div>
<div>     }</div>
<div><br/></div>
<div>     protected FConvolution[] makeFilters(int size) {</div>
<div>          final int nScales = 3;</div>
<div>          final int nOrientations = 6;</div>
<div><br/></div>
<div>          int NROTINV = 12;</div>
<div>          int NBAR = nScales * nOrientations;</div>
<div>          int NEDGE = nScales * nOrientations;</div>
<div>          int NF = NBAR + NEDGE + NROTINV;</div>
<div><br/></div>
<div>          FConvolution F[] = new FConvolution[NF];</div>
<div><br/></div>
<div>          int count=0;</div>
<div>          for (int i=1; i&lt;=nScales; i++) {</div>
<div>               float scale = (float) pow(sqrt(2),i);</div>
<div>              </div>
<div>               for (int orient=0; orient&lt;nOrientations; orient++) {</div>
<div>                    float angle = (float) (PI * orient / nOrientations);</div>
<div>                   </div>
<div>                    F[count] = new FConvolution(makeFilter(scale, 0, 1, angle, size));</div>
<div>                    F[count + NEDGE] = new FConvolution(makeFilter(scale, 0, 2, angle, size));</div>
<div>                    count++;</div>
<div>               }</div>
<div>          }</div>
<div><br/></div>
<div>          count=NBAR+NEDGE;</div>
<div>          for (int i=1; i&lt;=4; i++) {</div>
<div>               float scale = (float) pow(sqrt(2), i);</div>
<div>              </div>
<div>               F[count] = new FConvolution(normalise(Gaussian2D.createKernelImage(size, scale)));</div>
<div>               F[count + 1] = new FConvolution(normalise(LaplacianOfGaussian2D.createKernelImage(size, scale)));</div>
<div>               F[count + 2] = new FConvolution(normalise(LaplacianOfGaussian2D.createKernelImage(size, 3 * scale)));</div>
<div>               count+=3;</div>
<div>          }</div>
<div>         </div>
<div>          return F;</div>
<div>     }</div>
<div><br/></div>
<div>     protected static FImage makeFilter(float scale, int phasex, int phasey, float angle, int size) {</div>
<div>          int hs = (size-1)/2;</div>
<div><br/></div>
<div>          FImage filter = new FImage(size, size);</div>
<div>          for (int y=-hs, j=0; y&lt;hs; y++, j++) {</div>
<div>               for (int x=-hs, i=0; x&lt;hs; x++, i++) {</div>
<div>                    float cos=(float) cos(angle);</div>
<div>                    float sin=(float) sin(angle);</div>
<div><br/></div>
<div>                    float rx = cos*x - sin*y;</div>
<div>                    float ry = sin*x + cos*y;</div>
<div><br/></div>
<div>                    float gx = gaussian1D(3*scale, 0, rx, phasex);</div>
<div>                    float gy = gaussian1D(scale, 0, ry, phasey);</div>
<div><br/></div>
<div>                    filter.pixels[j][i] = gx * gy;</div>
<div>               }</div>
<div>          }</div>
<div>          return normalise(filter);</div>
<div>     }</div>
<div><br/></div>
<div>/*</div>
<div>function g=gauss1d(sigma,mean,x,ord)</div>
<div>% Function to compute gaussian derivatives of order 0 &lt;= ord &lt; 3</div>
<div>% evaluated at x.</div>
<div><br/></div>
<div>  x=x-mean;num=x.*x;</div>
<div>  variance=sigma^2;</div>
<div>  denom=2*variance; </div>
<div>  g=exp(-num/denom)/(pi*denom)^0.5;</div>
<div>  switch ord,</div>
<div>    case 1, g=-g.*(x/variance);</div>
<div>    case 2, g=g.*((num-variance)/(variance^2));</div>
<div>  end;</div>
<div>return</div>
<div>*/</div>
<div>     protected static float gaussian1D(float sigma, float mean, float x, int order) {    </div>
<div>          x=x-mean;</div>
<div>          float num = x*x;</div>
<div><br/></div>
<div>          float variance = sigma*sigma;</div>
<div>          float denom = 2*variance; </div>
<div>          float g = (float) (exp(-num/denom)/pow(PI*denom,0.5));</div>
<div>         </div>
<div>          switch(order) {</div>
<div>               case 0: return g;</div>
<div>               case 1: return -g * (x/variance);</div>
<div>               case 2: return g * ((num-variance)/(variance*variance));</div>
<div>               default:</div>
<div>                    throw new IllegalArgumentException(&quot;order must be 0, 1 or 2.&quot;);</div>
<div>          }</div>
<div>     }</div>
<div><br/></div>
<div>/*</div>
<div>function f=normalise(f), f=f-mean(f(:)); f=f/sum(abs(f(:))); return</div>
<div>*/</div>
<div><br/></div>
<div>     protected static FImage normalise(FImage f) {</div>
<div>          float mean = FloatArrayStatsUtils.mean(f.pixels);</div>
<div>          f.subtractInline(mean);</div>
<div>          float sumabs = FloatArrayStatsUtils.sumAbs(f.pixels);</div>
<div>          return f.divideInline(sumabs);</div>
<div>     }</div>
<div>}</div>
</en-note>      ]]>
    </content>
  </note>
</en-export>
